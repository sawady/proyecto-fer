create SCHEMA FER;

CREATE TABLE Equipo (
	id_equipo AUTO_INCREMENT NOT NULL,
	nombre CHAR(100) NOT NULL,
	FOREIGN KEY	(id_tecnico) 
		REFERENCES Tecnico
		ON DELETE CASCADE ON UPDATE CASCADE,
	PRIMARY KEY(id_equipo)	
);

CREATE TABLE Jugador (
	id_jugador  AUTO_INCREMENT NOT NULL,
	nombre varchar(100) NOT NULL,
	FOREIGN KEY	(id_equipo) 
		REFERENCES Equipo
		ON DELETE CASCADE ON UPDATE CASCADE,
	PRIMARY KEY(id_jugador)
	
);


CREATE TABLE Habilidad( 
	id_habilidad AUTO_INCREMENT NOT NULL,
	tipo STRING,
	FOREIGN KEY (id_jugador)
		REFERENCES Jugador
		ON DELETE CASCADE ON UPDATE CASCADE,
	PRIMARY KEY(id_habilidad)
);


CREATE TABLE Titular(
	id_titular AUTO_INCREMENT NOT NULL,
	posicion INT NOT NULL,  
	FOREIGN KEY (id_jugador)
		REFERENCES Jugador
		ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (id_formacion)
		REFERENCES Formacion
		ON DELETE CASCADE ON UPDATE CASCADE,
	PRIMARY KEY(id_titular)
);


CREATE TABLE Formacion (
	id_formacion AUTO_INCREMENT NOT NULL,
	nombre STRING,
	FOREIGN KEY (id_equipo)
		REFERENCES Equipo
		ON DELETE CASCADE ON UPDATE CASCADE,
	PRIMARY KEY(id_formacion)
);

CREATE TABLE SuplenteEnFormacion(	
	FOREIGN KEY (id_jugador)
		REFERENCES Jugador
		ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (id_formacion)
		REFERENCES Formacion
		ON DELETE CASCADE ON UPDATE CASCADE,
	PRIMARY KEY(id_formacion, id_jugador)
);


CREATE TABLE FormacionStrategy(
	id_formacionStrategy AUTO_INCREMENT NOT NULL,
	tipo STRING,
	PRIMARY KEY(id_formacionStrategy)
);	

CREATE TABLE PosicionesEnFormacionStrategy(
	id_posicionesEnFormacionStrategy AUTO_INCREMENT NOT NULL,
	indice int,
	posicion POSICION,
	PRIMARY KEY(id_posicionesEnFormacionStrategy)
);

CREATE TABLE Posicion(
	id_posicion AUTO_INCREMENT NOT NULL,
	posicion INT,
	PRIMARY KEY(id_posicion)
);
	
CREATE TABLE Tecnico(
	id_tecnico AUTO_INCREMENT NOT NULL,
	nombre STRING,
	FOREIGN KEY (id_formacion)
		REFERENCES Formacion
		ON DELETE CASCADE ON UPDATE CASCADE,
		PRIMARY KEY(id_tecnico)
);